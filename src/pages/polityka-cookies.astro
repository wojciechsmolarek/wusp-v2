---
import MainLayout from '../layouts/main-layout.astro';
import StructuredData from '../components/structured-data.astro';
import PageBanner from '../components/page-banner.astro';

// Content sections data for better maintainability
const cookieSections = [
  {
    title: "1. Informacje ogólne",
    content: `Niniejsza Polityka Cookies określa zasady przechowywania i uzyskiwania dostępu do informacji na urządzeniach użytkownika za pomocą plików cookies podczas korzystania ze strony internetowej www.wusp-jarocin.pl (dalej: "Strona"). Administratorem Strony jest Wytwórczo Usługowa Spółdzielnia Pracy Jarocin z siedzibą przy ul. Wojska Polskiego 47, 63-200 Jarocin.`
  },
  {
    title: "2. Czym są pliki cookies?",
    content: `Pliki cookies to niewielkie pliki tekstowe zapisywane na urządzeniu końcowym użytkownika (komputerze, smartfonie itp.) podczas korzystania ze Strony. Cookies pozwalają na rozpoznanie urządzenia użytkownika oraz odpowiednie wyświetlenie strony internetowej, dostosowanej do jego preferencji.`
  },
  {
    title: "3. Jakie rodzaje cookies wykorzystujemy?",
    content: null,
    list: [
      {
        title: "Cookies niezbędne",
        description: "umożliwiają prawidłowe funkcjonowanie Strony i korzystanie z jej podstawowych funkcji."
      },
      {
        title: "Cookies funkcjonalne", 
        description: "pozwalają zapamiętać wybrane przez użytkownika ustawienia i personalizację interfejsu."
      },
      {
        title: "Cookies analityczne",
        description: "służą do zbierania anonimowych informacji statystycznych o sposobie korzystania ze Strony, co pomaga ulepszać jej działanie."
      }
    ]
  },
  {
    title: "4. Cele wykorzystywania cookies",
    content: null,
    list: [
      "Dostosowanie zawartości Strony do preferencji użytkownika",
      "Optymalizacja korzystania ze Strony", 
      "Tworzenie anonimowych statystyk, które pomagają zrozumieć, w jaki sposób użytkownicy korzystają ze Strony",
      "Zwiększenie bezpieczeństwa i niezawodności Strony"
    ]
  },
  {
    title: "5. Zarządzanie plikami cookies",
    content: `Użytkownik może w każdej chwili zmienić ustawienia dotyczące plików cookies w swojej przeglądarce internetowej, w tym zablokować automatyczną obsługę cookies lub usunąć już zapisane pliki. Ograniczenie stosowania cookies może wpłynąć na niektóre funkcjonalności dostępne na Stronie.`
  },
  {
    title: "6. Pliki cookies podmiotów trzecich",
    content: `Na Stronie mogą być wykorzystywane pliki cookies pochodzące od podmiotów trzecich, takich jak narzędzia analityczne (np. Google Analytics). Szczegółowe informacje na temat polityki cookies tych podmiotów znajdują się na ich stronach internetowych.`
  },
  {
    title: "7. Zmiany w Polityce Cookies",
    content: `Administrator zastrzega sobie prawo do wprowadzania zmian w niniejszej Polityce Cookies. Wszelkie zmiany będą publikowane na tej stronie wraz z datą ich wprowadzenia.`
  },
  {
    title: "8. Kontakt",
    content: `W przypadku pytań dotyczących Polityki Cookies prosimy o kontakt pod adresem e-mail:`,
    hasContact: true
  }
];

// Common CSS classes
const sectionClasses = "max-w-6xl mx-auto py-10 px-6 text-base md:text-[20px] tracking-tight text-text-gray leading-[33px]";
const headingClasses = "text-3xl md:text-4xl font-dm text-primary-200 text-center mb-12";
---

<MainLayout 
  title="Polityka Cookies" 
  description="Polityka Cookies witryny Wytwórczo Usługowej Spółdzielni Pracy Jarocin. Wszystko o plikach cookies, które są wykorzystywane na naszej stronie internetowej."
>
  <!-- Structured Data -->
  <StructuredData 
    pageType="legal"
    pageTitle="Polityka Cookies"
    pageDescription="Polityka Cookies witryny WUSP Jarocin"
  />

  <PageBanner 
    title="Polityka cookies" 
    breadcrumbText="Polityka cookies"
  />

  <!-- Content Sections -->
  {cookieSections.map((section, index) => (
    <section 
      class={sectionClasses}
      aria-labelledby={`section-${index}-heading`}
    >
      <h2 
        id={`section-${index}-heading`}
        class={headingClasses}
      >
        {section.title}
      </h2>
      
      {section.content && (
        <p>{section.content}</p>
      )}
      
      {section.list && (
        <ul class="list-disc ml-6 mt-3 space-y-1">
          {section.list.map((item) => (
            <li>
              {typeof item === 'string' ? (
                item
              ) : (
                <>
                  <strong>{item.title}</strong> – {item.description}
                </>
              )}
            </li>
          ))}
        </ul>
      )}
      
      {section.hasContact && (
        <a 
          href="mailto:kontakt@wusp-jarocin.pl" 
          class="text-primary-200 underline hover:text-primary-100 transition-colors duration-200"
          aria-label="Wyślij email na adres kontakt@wusp-jarocin.pl"
        >
          kontakt@wusp-jarocin.pl
        </a>
      )}
    </section>
  ))}
</MainLayout>